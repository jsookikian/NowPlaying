<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_37) on Thu Sep 14 13:16:17 PDT 2017 -->
<TITLE>
IGnAudioSource
</TITLE>

<META NAME="date" CONTENT="2017-09-14">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IGnAudioSource";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../com/gracenote/gnsdk/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/gracenote/gnsdk/GnUserStore.html" title="class in com.gracenote.gnsdk"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/gracenote/gnsdk/IGnCancellable.html" title="interface in com.gracenote.gnsdk"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/gracenote/gnsdk/IGnAudioSource.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IGnAudioSource.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.gracenote.gnsdk</FONT>
<BR>
Interface IGnAudioSource</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../com/gracenote/gnsdk/GnMic.html" title="class in com.gracenote.gnsdk">GnMic</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>IGnAudioSource</B></DL>
</PRE>

<P>
Delegate interface for retrieving audio data from a raw audio source such as a microphone, audio file, 
 or Internet stream. 
 <p> 
 A number of Gracenote methods consume audio data from audio sources without requiring your application to 
 manually pass the data. Using these can simplify your application's implementation. They also allow for 
 hot fixes that don't require an entire release cycle. 
 <p> 
 These methods/consumers currently include: 
 <p> 
  <p>// Generate a fingerprint using the audio from a raw audio source</p> 
  void GnMusicId::FingerprintFromSource(IGnAudioSource& audioSource, <A HREF="../../../com/gracenote/gnsdk/GnFingerprintType.html" title="enum in com.gracenote.gnsdk"><CODE>GnFingerprintType</CODE></A> fpType) throw (GnError); 
 <p> 
  <p>// Find albums using the audio from a raw audio source</p> 
  metadata::GnResponseAlbums GnMusicId::FindAlbums(IGnAudioSource& audioSource, <A HREF="../../../com/gracenote/gnsdk/GnFingerprintType.html" title="enum in com.gracenote.gnsdk"><CODE>GnFingerprintType</CODE></A> fpType) throw (GnError); 
 <p> 
 <p>// Add a fingerprint to the file information used to identify a track, album, or library</p> 
  void GnMusicIdFileInfo::FingerprintFromSource(IGnAudioSource& audioSource) throw (GnError); 
 <p> 
  <p>// Process the audio stream provided by the raw audio source for identification</p> 
  void GnMusicIdStream::AudioProcessStart(IGnAudioSource& audioSource) throw (GnError); 
 <p> 
 You are encouraged to implement your own audio source object if, for example, your application 
 requires a custom audio file format. 
 <p> 
 Note that for some platforms (e.g., iOS and Android), Gracenote provides the <A HREF="../../../com/gracenote/gnsdk/GnMic.html" title="class in com.gracenote.gnsdk"><CODE>GnMic</CODE></A> helper class 
 that implements the <A HREF="../../../com/gracenote/gnsdk/IGnAudioSource.html" title="interface in com.gracenote.gnsdk"><CODE>IGnAudioSource</CODE></A> interface to retrive audio. If available, your application can use this class to process 
 streaming audio from a device microphone. Gracenote for Mobile also provides a <CODE>GnAudioFile</CODE> delegate for reading raw 
 audio from encoded audio files. 
 <p> 
 <b>SDK Documentation</b> 
 <p> 
 Topic: .../docs/html-oo > start_here.html > "Implementing Applications..." > Identifying Music > Identifying Streaming Music (MusicID-Stream ) 
 <p> 
 See this topic for more information on implementing an <A HREF="../../../com/gracenote/gnsdk/IGnAudioSource.html" title="interface in com.gracenote.gnsdk"><CODE>IGnAudioSource</CODE></A> interface.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/gracenote/gnsdk/IGnAudioSource.html#getData(java.nio.ByteBuffer, long)">getData</A></B>(java.nio.ByteBuffer&nbsp;dataBuffer,
        long&nbsp;dataSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get audio data from the audio source.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/gracenote/gnsdk/IGnAudioSource.html#numberOfChannels()">numberOfChannels</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the source audio format's number of channels.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/gracenote/gnsdk/IGnAudioSource.html#sampleSizeInBits()">sampleSizeInBits</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the source audio format's number of bits in a sample.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/gracenote/gnsdk/IGnAudioSource.html#samplesPerSecond()">samplesPerSecond</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the source audio format's samples per second.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/gracenote/gnsdk/IGnAudioSource.html#sourceClose()">sourceClose</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close the audio source.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/gracenote/gnsdk/IGnAudioSource.html#sourceInit()">sourceInit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize the audio source.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="sourceInit()"><!-- --></A><H3>
sourceInit</H3>
<PRE>
long <B>sourceInit</B>()</PRE>
<DL>
<DD>Initialize the audio source. This is invoked prior to any other methods. If initialization 
 fails a non-zero value is returned. In this case the consumer will not call any other methods 
 including that to close the audio source.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>0 indicates initialization was successful, non-zero otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="sourceClose()"><!-- --></A><H3>
sourceClose</H3>
<PRE>
void <B>sourceClose</B>()</PRE>
<DL>
<DD>Close the audio source. The consumer will not call any other methods after the source has 
 been closed
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="samplesPerSecond()"><!-- --></A><H3>
samplesPerSecond</H3>
<PRE>
long <B>samplesPerSecond</B>()</PRE>
<DL>
<DD>Return the source audio format's samples per second. Return zero if called 
 prior to SourceInit.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Samples per second</DL>
</DD>
</DL>
<HR>

<A NAME="sampleSizeInBits()"><!-- --></A><H3>
sampleSizeInBits</H3>
<PRE>
long <B>sampleSizeInBits</B>()</PRE>
<DL>
<DD>Return the source audio format's number of bits in a sample. Return zero if called 
 prior to SourceInit.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Sample size in bits</DL>
</DD>
</DL>
<HR>

<A NAME="numberOfChannels()"><!-- --></A><H3>
numberOfChannels</H3>
<PRE>
long <B>numberOfChannels</B>()</PRE>
<DL>
<DD>Return the source audio format's number of channels. Return zero if called 
 prior to SourceInit.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Number of channels</DL>
</DD>
</DL>
<HR>

<A NAME="getData(java.nio.ByteBuffer, long)"><!-- --></A><H3>
getData</H3>
<PRE>
long <B>getData</B>(java.nio.ByteBuffer&nbsp;dataBuffer,
             long&nbsp;dataSize)</PRE>
<DL>
<DD>Get audio data from the audio source. This is a blocking call that does 
 not return until data is available. 
 When data is available, this method must 
 copy data to the provided buffer ensuring not to overflow it. The number of bytes 
 copied to the buffer is returned. 
 To signal the audio source is unable to deliver any more data return zero. The 
 consumer will then stop requesting data and close the audio source.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataBuffer</CODE> - [out] Buffer to receive audio data<DD><CODE>dataSize</CODE> - [in]  Size in bytes of buffer
<DT><B>Returns:</B><DD>Number of bytes copied to the buffer. Return zero to indicate 
                   no more data can be delivered via the audio source.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../com/gracenote/gnsdk/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/gracenote/gnsdk/GnUserStore.html" title="class in com.gracenote.gnsdk"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/gracenote/gnsdk/IGnCancellable.html" title="interface in com.gracenote.gnsdk"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/gracenote/gnsdk/IGnAudioSource.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IGnAudioSource.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
