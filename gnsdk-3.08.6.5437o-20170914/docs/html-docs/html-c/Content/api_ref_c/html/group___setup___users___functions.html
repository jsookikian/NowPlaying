<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GNSDK: Users Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNSDK
   &#160;<span id="projectnumber">3.08.6.5437</span>
   </div>
   <div id="projectbrief">C API Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___setup___users___functions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Users Functions<div class="ingroups"><a class="el" href="group___setup___general.html">General</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga4aacfb1d837f275d900be227685b3daf"><td class="memItemLeft" align="right" valign="top">typedef void(GNSDK_CALLBACK_API *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___setup___users___functions.html#ga4aacfb1d837f275d900be227685b3daf">gnsdk_user_store_fn</a> )(gnsdk_void_t *callback_data, gnsdk_cstr_t client_id, gnsdk_cstr_t serialized_user)</td></tr>
<tr class="separator:ga4aacfb1d837f275d900be227685b3daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0328b44c959c6127e37cd06557091a81"><td class="memItemLeft" align="right" valign="top">GNSDK_EXPORTED gnsdk_error_t <br class="typebreak"/>
GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___setup___users___functions.html#ga0328b44c959c6127e37cd06557091a81">gnsdk_manager_user_create</a> (gnsdk_cstr_t serialized_user, gnsdk_cstr_t client_id_test, gnsdk_user_handle_t *p_user_handle)</td></tr>
<tr class="separator:ga0328b44c959c6127e37cd06557091a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83565dedccb8200200eceed0870dd05b"><td class="memItemLeft" align="right" valign="top">GNSDK_EXPORTED gnsdk_error_t <br class="typebreak"/>
GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___setup___users___functions.html#ga83565dedccb8200200eceed0870dd05b">gnsdk_manager_user_is_localonly</a> (gnsdk_user_handle_t user_handle, gnsdk_bool_t *pb_local_only)</td></tr>
<tr class="separator:ga83565dedccb8200200eceed0870dd05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b035990d206db4b6391eb04a729e455"><td class="memItemLeft" align="right" valign="top">GNSDK_EXPORTED gnsdk_error_t <br class="typebreak"/>
GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___setup___users___functions.html#ga9b035990d206db4b6391eb04a729e455">gnsdk_manager_user_option_get</a> (gnsdk_user_handle_t user_handle, gnsdk_cstr_t option_name, gnsdk_cstr_t *p_option_value)</td></tr>
<tr class="separator:ga9b035990d206db4b6391eb04a729e455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66dff92e89b04bb94f68448483005fb0"><td class="memItemLeft" align="right" valign="top">GNSDK_EXPORTED gnsdk_error_t <br class="typebreak"/>
GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___setup___users___functions.html#ga66dff92e89b04bb94f68448483005fb0">gnsdk_manager_user_option_set</a> (gnsdk_user_handle_t user_handle, gnsdk_cstr_t option_name, gnsdk_cstr_t option_value)</td></tr>
<tr class="separator:ga66dff92e89b04bb94f68448483005fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97a42dcc2d56464c06a3e6c94f836ee9"><td class="memItemLeft" align="right" valign="top">GNSDK_EXPORTED gnsdk_error_t <br class="typebreak"/>
GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___setup___users___functions.html#ga97a42dcc2d56464c06a3e6c94f836ee9">gnsdk_manager_user_register</a> (gnsdk_cstr_t register_mode, gnsdk_cstr_t client_id, gnsdk_cstr_t client_id_tag, gnsdk_cstr_t client_app_ver, gnsdk_str_t *p_serialized_user)</td></tr>
<tr class="separator:ga97a42dcc2d56464c06a3e6c94f836ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfa652e640428230abef405c14bc4140"><td class="memItemLeft" align="right" valign="top">GNSDK_EXPORTED gnsdk_error_t <br class="typebreak"/>
GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___setup___users___functions.html#gacfa652e640428230abef405c14bc4140">gnsdk_manager_user_release</a> (gnsdk_user_handle_t user_handle)</td></tr>
<tr class="separator:gacfa652e640428230abef405c14bc4140"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga4aacfb1d837f275d900be227685b3daf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(GNSDK_CALLBACK_API * gnsdk_user_store_fn)(gnsdk_void_t *callback_data, gnsdk_cstr_t client_id, gnsdk_cstr_t serialized_user)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a callback function that is called when a user handle needs to be stored locally. The application should store the given serialized_user data somewhere that can survive between application launches (such as a to a file, or to the application settings).</p>
<p>Using this callback allows the application to simplify User handle management. Applications are required to create User handles and to serialize and store the User handle data so it can be reused. Using this callback will ensure that the User data is stored whenever changes to the User handle occurs.</p>
<p>Using this callback also allows the SDK to register a new User in offline mode and then "auto registers" it for online use during the first online query using the User handle. In this case, the callback is called after the online query is performed.</p>
<p>Not using this callback requires the application to serialize and store any User handle immediately after registering a new user with the gnsdk_manager_user_register API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_handle</td><td>The user handle that triggers the callback. </td></tr>
    <tr><td class="paramname">callback</td><td>A pointer to the callback function. </td></tr>
    <tr><td class="paramname">callback_data</td><td>The callback data consists of a client_id indicating which client_id the user data is for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga0328b44c959c6127e37cd06557091a81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GNSDK_EXPORTED gnsdk_error_t GNSDK_API gnsdk_manager_user_create </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>serialized_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>client_id_test</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_user_handle_t *&#160;</td>
          <td class="paramname"><em>p_user_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reconstitutes user handle from serialized user handle data. Use this function to reconstitute a previously serialized user handle. Reconstitution does not count towards the user count for your client in Gracenote Service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serialized_user</td><td>[in] String of serialized user handle data </td></tr>
    <tr><td class="paramname">client_id_test</td><td>[in] Optional clientID value to validate is the same one in serialized user. Will fail if mismatch. Pass GNSDK_NULL to not perform clientID check. </td></tr>
    <tr><td class="paramname">p_user_handle</td><td>[out] Pointer to receive user handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga83565dedccb8200200eceed0870dd05b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GNSDK_EXPORTED gnsdk_error_t GNSDK_API gnsdk_manager_user_is_localonly </td>
          <td>(</td>
          <td class="paramtype">gnsdk_user_handle_t&#160;</td>
          <td class="paramname"><em>user_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_bool_t *&#160;</td>
          <td class="paramname"><em>pb_local_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether or not a user is local only. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_handle</td><td>[in] The user handle to query. </td></tr>
    <tr><td class="paramname">pb_local_only</td><td>[out] TRUE if the user handle is local only, FALSE otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9b035990d206db4b6391eb04a729e455"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GNSDK_EXPORTED gnsdk_error_t GNSDK_API gnsdk_manager_user_option_get </td>
          <td>(</td>
          <td class="paramtype">gnsdk_user_handle_t&#160;</td>
          <td class="paramname"><em>user_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>option_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t *&#160;</td>
          <td class="paramname"><em>p_option_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves an option for a given user handle. Options set globally are retrieved when the user handle parameter is set to GNSDK_NULL, otherwise, options are retrieved for given a valid user handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_handle</td><td>[in] User handle to retrieve option from. To retrieve a global option, set this parameter to GNSDK_NULL </td></tr>
    <tr><td class="paramname">option_name</td><td>[in] A defined User Options name </td></tr>
    <tr><td class="paramname">p_option_value</td><td>[out] Pointer to value set for the given option </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga66dff92e89b04bb94f68448483005fb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GNSDK_EXPORTED gnsdk_error_t GNSDK_API gnsdk_manager_user_option_set </td>
          <td>(</td>
          <td class="paramtype">gnsdk_user_handle_t&#160;</td>
          <td class="paramname"><em>user_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>option_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>option_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets an option for a given user handle. Options can be set per user handle, or globally. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_handle</td><td>[in] User handle that this option applies to. To apply this option globally, set this parameter to GNSDK_NULL </td></tr>
    <tr><td class="paramname">option_name</td><td>[in] A defined User Options name </td></tr>
    <tr><td class="paramname">option_value</td><td>[in] Value to set for the given option </td></tr>
  </table>
  </dd>
</dl>
<p><b>Note:</b></p>
<p>Options set globally apply only to user handles created after the global option is set. </p>

</div>
</div>
<a class="anchor" id="ga97a42dcc2d56464c06a3e6c94f836ee9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GNSDK_EXPORTED gnsdk_error_t GNSDK_API gnsdk_manager_user_register </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>register_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>client_id_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>client_app_ver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_str_t *&#160;</td>
          <td class="paramname"><em>p_serialized_user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new user and also increments the user's Client ID user count with Gracenote Service. Use this function to create a new user; when successful, this call registers a new user user for a specified client in Gracenote Service. Once the new user is registered and the user count incremented in Gracenote Service, the count cannot be reduced, nor can the same user be re-retrieved. Newly registered user handles must be serialized and stored locally for that user to be used again for future queries; failing to do this quickly depletes the client's allotted user quota within Gracenote Service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">register_mode</td><td>[in] Registration specification for online or local registrations. </td></tr>
    <tr><td class="paramname">client_id</td><td>[in] Client ID that initiates requests with this handle; value provided by Gracenote </td></tr>
    <tr><td class="paramname">client_id_tag</td><td>[in] Client ID tag value that matches client ID; value provided by Gracenote </td></tr>
    <tr><td class="paramname">client_app_ver</td><td>[in] Client application version; numeric value provided by application, and this value is required </td></tr>
    <tr><td class="paramname">p_serialized_user</td><td>[out] Pointer to receive new user handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacfa652e640428230abef405c14bc4140"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GNSDK_EXPORTED gnsdk_error_t GNSDK_API gnsdk_manager_user_release </td>
          <td>(</td>
          <td class="paramtype">gnsdk_user_handle_t&#160;</td>
          <td class="paramname"><em>user_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases resources for a user handle. This function only frees handle resources; it has no affect on the user count in Gracenote Service. Passing a null handle returns SDKMGRERR_NoError. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_handle</td><td>[in] User handle to release </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</ul>
</div>
<hr \>
<p style="margin-left:2em;">
<a href="mailto:doc_feedback@gracenote.com?subject=Gracenote Documentation Feedback" title="Email comments about this topic to Gracenote Technical Publications." alt="Email comments about this topic to Gracenote Technical Publications.">How can we improve this documentation?</a><br \>
Copyright &copy; 2000-present. Gracenote, Inc. All rights reserved. Generated on Thu Sep 14 2017 13:15:27.<br \>
</p>
</body>
</html>
